{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/PhoneNumberService.js","App.js","index.js"],"names":["Filter","handleChange","onChange","PersonForm","handleSubmit","handleNumberChange","handleNameChange","newName","newNumber","onSubmit","value","type","Person","handleClick","person","name","number","onClick","id","Persons","persons","listFilter","filter","toUpperCase","startsWith","map","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","console","log","PhoneNumberServices","initialPersons","event","target","preventDefault","newPerson","foundPerson","find","element","window","confirm","returnedPerson","catch","error","setTimeout","concat","returnedPersons","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2aad91ec.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ handleChange }) => {\n    return <div>\n        <form>\n            search by: <input onChange={handleChange} />\n        </form>\n    </div>\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, handleNumberChange, handleNameChange, newName, newNumber }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input onChange={handleNameChange} value={newName} />\n            </div>\n            <div>\n                number: <input onChange={handleNumberChange} value={newNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ handleClick, person }) => {\n    //console.log(person)\n    return (\n        <div>\n            <p>{person.name} {person.number} <button onClick={() => handleClick(person.name, person.id)}>Delete</button></p>\n\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, listFilter, handleClick }) => {\n    return (\n        persons.filter(person => person.name.toUpperCase().startsWith(listFilter.toUpperCase()))\n            .map(person => <Person key={person.name} person={person} handleClick={handleClick} />)\n\n\n    )\n}\n\nexport default Persons","const Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(response => response.data);\n}\n\nconst deleteFromDB = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    deleteFromDB\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport PhoneNumberServices from './services/PhoneNumberService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [listFilter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    PhoneNumberServices.getAll().then(initialPersons => {\n      console.log(`Promise fulfilled`);\n      setPersons(initialPersons);\n    })\n  }, [])\n\n  const clearInputs = () => {\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const foundPerson = persons.find(element => element.name === newPerson.name);\n    if (foundPerson) {\n      let result = window.confirm(`${newPerson.name}'s number is already in the phonebook. Do you want to replace this number?'`);\n      if (result) {\n        PhoneNumberServices.update(foundPerson.id, newPerson).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== foundPerson.id ? person : returnedPerson))\n        })\n          .catch(error => {\n            //console.log(error.response.data.error)\n            setErrorMessage(error.response.data.error);\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    }\n    else {\n      PhoneNumberServices.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n      })\n        .catch(error => {\n          //console.log(error.response.data.error)\n          setErrorMessage(error.response.data.error);\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n    clearInputs();\n\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilter = (event) => {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  }\n\n  const removeFromDb = (name, id) => {\n    let result = window.confirm(`Delete ${name}?`)\n    if (result) {\n      PhoneNumberServices.deleteFromDB(id).then((returnedPersons) => {\n        setPersons(persons.filter(n => n.id !== id))\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter handleChange={handleFilter} />\n      <h2>Add a new entry</h2>\n      <PersonForm handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} listFilter={listFilter} handleClick={removeFromDb} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}