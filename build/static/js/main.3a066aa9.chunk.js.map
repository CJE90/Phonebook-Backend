{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/PhoneNumberService.js","App.js","index.js"],"names":["Filter","handleChange","onChange","PersonForm","handleSubmit","handleNumberChange","handleNameChange","newName","newNumber","onSubmit","value","type","Person","handleClick","person","name","number","onClick","id","Persons","persons","listFilter","filter","toUpperCase","startsWith","map","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","useEffect","console","log","PhoneNumberServices","initialPersons","event","target","preventDefault","newPerson","foundPerson","find","element","window","confirm","returnedPerson","returnedPersons","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a066aa9.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ handleChange }) => {\n    return <div>\n        <form>\n            search by: <input onChange={handleChange} />\n        </form>\n    </div>\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, handleNumberChange, handleNameChange, newName, newNumber }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input onChange={handleNameChange} value={newName} />\n            </div>\n            <div>\n                number: <input onChange={handleNumberChange} value={newNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ handleClick, person }) => {\n    //console.log(person)\n    return (\n        <div>\n            <p>{person.name} {person.number} <button onClick={() => handleClick(person.name, person.id)}>Delete</button></p>\n\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, listFilter, handleClick }) => {\n    return (\n        persons.filter(person => person.name.toUpperCase().startsWith(listFilter.toUpperCase()))\n            .map(person => <Person key={person.name} person={person} handleClick={handleClick} />)\n\n\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(response => response.data);\n}\n\nconst deleteFromDB = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    deleteFromDB\n}","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport PhoneNumberServices from './services/PhoneNumberService'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [listFilter, setFilter] = useState('')\n\n  useEffect(() => {\n    console.log('effect')\n    PhoneNumberServices.getAll().then(initialPersons => {\n      console.log(`Promise fulfilled`);\n      setPersons(initialPersons);\n    })\n  }, [])\n\n  const clearInputs = () => {\n    setNewName('');\n    setNewNumber('');\n  }\n\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const foundPerson = persons.find(element => element.name === newPerson.name);\n    if (foundPerson) {\n      let result = window.confirm(`${newPerson.name}'s number is already in the phonebook. Do you want to replace this number?'`);\n      if (result) {\n        PhoneNumberServices.update(foundPerson.id, newPerson).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== foundPerson.id ? person : returnedPerson))\n        })\n      }\n    }\n    else {\n      PhoneNumberServices.create(newPerson).then(returnedPerson => {\n        setPersons(returnedPerson);\n      })\n    }\n    clearInputs();\n\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilter = (event) => {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  }\n\n  const removeFromDb = (name, id) => {\n    let result = window.confirm(`Delete ${name}?`)\n    if (result) {\n      PhoneNumberServices.deleteFromDB(id).then((returnedPersons) => {\n        setPersons(persons.filter(n => n.id !== id))\n      })\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter handleChange={handleFilter} />\n      <h2>Add a new entry</h2>\n      <PersonForm handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} listFilter={listFilter} handleClick={removeFromDb} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}